# 软件激活指南

本软件采用 **机器码 + HMAC-SHA256 签名** 的方式进行离线激活。

## 1. 获取机器码 (Machine ID)

1. 打开软件。
2. 点击右上角的 **设置 (齿轮图标)**。
3. 进入 **激活软件** 标签页。
4. 找到 **机器码 (Machine ID)** 字段，点击右侧的 **复制** 按钮。

## 2. 生成激活码 (管理员/开发测试)

在开发环境中，可以使用项目根目录下的 `tools/keygen.mjs` 工具生成激活码。

1. 打开终端 (Terminal)。
2. 确保已安装 Node.js。
3. 运行以下命令：

```bash
node tools/keygen.mjs
```

4. 终端会提示 `请输入机器码 (Machine ID):`，粘贴刚才复制的机器码并回车。
5. 终端会提示 `请输入授权天数 (默认 365):`，输入想要授权的天数（如 30, 365, 9999）并回车。
6. 工具将生成一串 **激活码**，格式如：`365-8f4b2...`。

## 3. 激活软件

1. 回到软件的 **激活软件** 页面。
2. 将生成的 **激活码** 粘贴到输入框中。
3. 点击 **验证激活** 按钮。
4. 如果激活成功，系统会提示"激活成功"，界面顶部将显示 ✅ 系统已激活。

---

## 常见问题

- **激活码无效？**
  请确保机器码复制完整，且没有多余的空格。激活码生成算法依赖于具体的 Salt (盐值)，请确保 `keygen.js` 中的 Salt 与后端 `commands.rs` 中的 Salt 一致。

- **更换电脑后失效？**
  是的，激活码与硬件绑定。更换电脑会导致机器码改变，需要重新生成激活码。
